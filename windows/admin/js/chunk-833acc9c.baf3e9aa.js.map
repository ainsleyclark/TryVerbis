{"version":3,"sources":["webpack:///./src/util/options.js","webpack:///./src/views/settings/SEOMeta.vue?e2c0","webpack:///src/views/settings/SEOMeta.vue","webpack:///./src/views/settings/SEOMeta.vue?7202","webpack:///./src/views/settings/SEOMeta.vue"],"names":["optionsMixin","data","doingAxios","saving","errors","mounted","this","getOptions","methods","axios","get","then","res","catch","err","helpers","handleResponse","finally","runAfterGet","setTimeout","axiosTimeout","save","runBeforeSave","console","log","post","$noty","success","checkServer","response","status","validate","error","errorMsg","setAllHeight","$store","commit","forEach","$set","key","message","render","_vm","_h","$createElement","_c","_self","staticClass","_v","class","on","$event","preventDefault","directives","name","rawName","value","loadingMeta","expression","domProps","_s","attrs","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","meta","updateMeta","staticRenderFns","component"],"mappings":"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","file":"js/chunk-833acc9c.baf3e9aa.js","sourcesContent":["/**\n * options.js\n * Common util functions for options.\n * @author Ainsley Clark\n * @author URL:   https://reddico.co.uk\n * @author Email: ainsley@reddico.co.uk\n */\n\nexport const optionsMixin = {\n\tdata: () => ({\n\t\tdoingAxios: true,\n\t\tsaving: false,\n\t\terrors: {},\n\t\tdata: {},\n\t}),\n\tmounted() {\n\t\tthis.getOptions();\n\t},\n\tmethods: {\n\t\t/*\n\t\t * save()\n\t\t * Save the updated options, check for field validation.\n\t\t */\n\t\tgetOptions() {\n\t\t\tthis.axios.get(\"/options\")\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.data = res.data.data;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.helpers.handleResponse(err);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tif (typeof this.runAfterGet == 'function') {\n\t\t\t\t\t\tthis.runAfterGet();\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.doingAxios = false;\n\t\t\t\t\t}, this.axiosTimeout ? 200 : 0)\n\t\t\t\t});\n\t\t},\n\t\t/*\n\t\t * save()\n\t\t * Save the updated options, check for field validation.\n\t\t */\n\t\tsave() {\n\t\t\tthis.saving = true;\n\n\t\t\tif (typeof this.runBeforeSave == 'function') {\n\t\t\t\tthis.runBeforeSave();\n\t\t\t}\n\n\t\t\tconsole.log(this.data);\n\n\t\t\tthis.axios.post(\"/options\", this.data)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.errors = [];\n\t\t\t\t\tthis.$noty.success(\"Site options updated successfully.\");\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.helpers.checkServer(err);\n\t\t\t\t\tif (err.response.status === 400) {\n\t\t\t\t\t\tthis.validate(err.response.data.data.errors);\n\t\t\t\t\t\tthis.$noty.error(this.errorMsg);\n\t\t\t\t\t\tthis.setAllHeight();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.helpers.handleResponse(err);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.saving = false;\n\t\t\t\t\t}, 100);\n\t\t\t\t\tthis.axios.get(\"/site\")\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tthis.$store.commit('setSite', res.data.data);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/*\n\t\t * validate()\n\t\t * Add errors if the post/put failed.\n\t\t */\n\t\tvalidate(errors) {\n\t\t\tthis.errors = {};\n\t\t\terrors.forEach(err => {\n\t\t\t\tthis.$set(this.errors, err.key, err.message);\n\t\t\t})\n\t\t},\n\t}\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"auth-container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('header',{staticClass:\"header header-with-actions header-margin-large\"},[_c('div',{staticClass:\"header-title\"},[_c('h1',[_vm._v(\"Seo & Meta Settings\")]),_c('Breadcrumbs')],1),_c('div',{staticClass:\"header-actions\"},[_c('button',{staticClass:\"btn btn-fixed-height btn-orange btn-with-icon\",class:{ 'btn-loading' : _vm.saving },on:{\"click\":function($event){$event.preventDefault();return _vm.save($event)}}},[_vm._v(\"Update settings\")])])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.doingAxios && _vm.loadingMeta),expression:\"doingAxios && loadingMeta\"}],staticClass:\"media-spinner spinner-container\"},[_c('div',{staticClass:\"spinner spinner-large spinner-grey\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.doingAxios && !_vm.loadingMeta),expression:\"!doingAxios && !loadingMeta\"}],staticClass:\"row trans-fade-in-anim\"},[_c('div',{staticClass:\"col-12\"},[_c('h6',{staticClass:\"margin\"},[_vm._v(\"Visibility\")]),_c('div',{staticClass:\"card card-small-box-shadow card-expand\"},[_c('div',{staticClass:\"collapse-border-bottom\"},[_c('div',{staticClass:\"card-header card-header-block\"},[_c('div',[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Public\")]),_c('p',[_vm._v(\"By disabling public, no social media meta data will be outputted and a \"),_c('code',{domProps:{\"textContent\":_vm._s('<meta name=\\'robots\\' content=\\'noindex\\'>')}}),_vm._v(\" will be placed globally.\")])]),_c('div',{staticClass:\"toggle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data['seo_public']),expression:\"data['seo_public']\"}],staticClass:\"toggle-switch\",attrs:{\"type\":\"checkbox\",\"id\":\"site-public\",\"true-value\":true,\"false-value\":false},domProps:{\"checked\":Array.isArray(_vm.data['seo_public'])?_vm._i(_vm.data['seo_public'],null)>-1:(_vm.data['seo_public'])},on:{\"change\":function($event){var $$a=_vm.data['seo_public'],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.data, 'seo_public', $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.data, 'seo_public', $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.data, 'seo_public', $$c)}}}}),_c('label',{attrs:{\"for\":\"site-public\"}})])])])])]),_c('div',{staticClass:\"col-12\"},[_c('h6',{staticClass:\"margin\"},[_vm._v(\"Global meta\")]),(!_vm.loadingMeta)?_c('div',{staticClass:\"card card-small-box-shadow card-expand\"},[_c('MetaForm',{attrs:{\"meta\":_vm.meta},on:{\"update\":_vm.updateMeta}})],1):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =====================\n\tSettings - SEO & Meta\n\t===================== -->\n<template>\n\t<section>\n\t\t<div class=\"auth-container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<header class=\"header header-with-actions header-margin-large\">\n\t\t\t\t\t\t<div class=\"header-title\">\n\t\t\t\t\t\t\t<h1>Seo & Meta Settings</h1>\n\t\t\t\t\t\t\t<Breadcrumbs></Breadcrumbs>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"header-actions\">\n\t\t\t\t\t\t\t<button class=\"btn btn-fixed-height btn-orange btn-with-icon\" @click.prevent=\"save\" :class=\"{ 'btn-loading' : saving }\">Update settings</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t</div><!-- /Col -->\n\t\t\t</div><!-- /Row -->\n\t\t\t<!-- Spinner -->\n\t\t\t<div v-show=\"doingAxios && loadingMeta\" class=\"media-spinner spinner-container\">\n\t\t\t\t<div class=\"spinner spinner-large spinner-grey\"></div>\n\t\t\t</div>\n\t\t\t<div v-show=\"!doingAxios && !loadingMeta\" class=\"row trans-fade-in-anim\">\n\t\t\t\t<!-- =====================\n\t\t\t\t\tVisibility\n\t\t\t\t\t===================== -->\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<h6 class=\"margin\">Visibility</h6>\n\t\t\t\t\t\t<div class=\"card card-small-box-shadow card-expand\">\n\t\t\t\t\t\t<!-- Public -->\n\t\t\t\t\t\t<div class=\"collapse-border-bottom\">\n\t\t\t\t\t\t\t<div class=\"card-header card-header-block\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h4 class=\"card-title\">Public</h4>\n\t\t\t\t\t\t\t\t\t<p>By disabling public, no social media meta data will be outputted and a <code v-text=\"'<meta name=\\'robots\\' content=\\'noindex\\'>'\"></code> will be placed globally.</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"toggle\">\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"toggle-switch\" id=\"site-public\" v-model=\"data['seo_public']\" :true-value=\"true\" :false-value=\"false\" />\n\t\t\t\t\t\t\t\t\t<label for=\"site-public\"></label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div><!-- /Card Header -->\n\t\t\t\t\t\t</div><!-- /Public -->\n\t\t\t\t\t</div><!-- /Card -->\n\t\t\t\t</div>\n\t\t\t\t<!-- =====================\n\t\t\t\t\tMeta Information\n\t\t\t\t\t===================== -->\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<h6 class=\"margin\">Global meta</h6>\n\t\t\t\t\t<div v-if=\"!loadingMeta\" class=\"card card-small-box-shadow card-expand\">\n\t\t\t\t\t\t<MetaForm :meta=\"meta\" @update=\"updateMeta\"></MetaForm>\n\t\t\t\t\t</div><!-- /Card -->\n\t\t\t\t</div><!-- /Col -->\n\t\t\t</div><!-- /Row -->\n\t\t</div><!-- /Container -->\n\t</section>\n</template>\n\n<!-- =====================\n\tScripts\n\t===================== -->\n<script>\n\nimport Breadcrumbs from \"../../components/misc/Breadcrumbs\";\nimport {optionsMixin} from \"@/util/options\";\nimport MetaForm from \"@/components/meta/Meta\";\n\nexport default {\n\tname: \"SeoMeta\",\n\tmixins: [optionsMixin],\n\tcomponents: {\n\t\tMetaForm,\n\t\tBreadcrumbs\n\t},\n\tdata: () => ({\n\t\terrorMsg: \"Fix the errors before saving SEO & Meta settings.\",\n\t\tsuccessMsg: \"Seo & Meta options updated successfully.\",\n\t\tshowImageModal: false,\n\t\tselectedImageType: \"\",\n\t\tfacebookImage: false,\n\t\ttwitterImage: false,\n\t\tmeta: {},\n\t\tloadingMeta: true,\n\t}),\n\tmethods: {\n\t\t/*\n\t\t * runAfterGet()\n\t\t * Insert facebook or twitter image & update the height\n\t\t * after the options have been obtained.\n\t\t */\n\t\trunAfterGet() {\n\t\t\tfor (const key in this.data) {\n\t\t\t\tif (key.includes('meta_')) {\n\t\t\t\t\tthis.$set(this.meta, key, this.data[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.loadingMeta = false;\n\t\t},\n\t\t/*\n\t\t * updateMeta()\n\t\t * Sets the data using the key when the meta updates.\n\t\t */\n\t\tupdateMeta(val, key) {\n\t\t\tthis.$set(this.data, key, val);\n\t\t}\n\t}\n}\n\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SEOMeta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SEOMeta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SEOMeta.vue?vue&type=template&id=913df876&\"\nimport script from \"./SEOMeta.vue?vue&type=script&lang=js&\"\nexport * from \"./SEOMeta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}